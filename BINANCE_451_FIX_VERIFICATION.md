# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ 451 Binance API

## –ü—Ä–æ–±–ª–µ–º–∞
Binance API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É **451 Unavailable For Legal Reasons** –¥–ª—è IP-–∞–¥—Ä–µ—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–æ–≤ Zeabur/Railway –∏ –¥—Ä—É–≥–∏—Ö —Ö–æ—Å—Ç–∏–Ω–≥–æ–≤.

## –†–µ—à–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞:

1. **Failover –º–µ–∂–¥—É –∑–µ—Ä–∫–∞–ª–∞–º–∏ Binance API** ‚Äî 4 endpoint'–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
2. **Retry –ª–æ–≥–∏–∫–∞** ‚Äî 3 –ø–æ–ø—ã—Ç–∫–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π (2s, 4s, 8s)
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 5 –º–∏–Ω—É—Ç
4. **Fallback UI** ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—ç—à –∏–ª–∏ –æ—à–∏–±–∫—É
5. **Timeout** ‚Äî 15 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º –Ω–∞ –∑–∞–ø—Ä–æ—Å

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

#### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
uvicorn api.index:app --reload --host 0.0.0.0 --port 8000
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/api/volatility/odds/BTCUSDT`

–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
1Ô∏è‚É£ Starting market load for BTCUSDT
2Ô∏è‚É£ Fetching from Binance: BTCUSDT
üîÑ Attempt 1: Trying endpoint https://api.binance.com
üì° Fetching prices for BTCUSDT from https://api.binance.com
‚úÖ Received 6 prices for BTCUSDT
3Ô∏è‚É£ Received 6 candles for BTCUSDT
4Ô∏è‚É£ Volatility calculated for BTCUSDT: volatility=0.1234%, odds=1.9234x
```

#### –¢–µ—Å—Ç –æ—à–∏–±–∫–∏ 451 (—Å–∏–º—É–ª—è—Ü–∏—è)
–í —Ñ–∞–π–ª–µ `api/volatility_service.py` –≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–≤—ã–π endpoint:

```python
BINANCE_ENDPOINTS = [
    "https://invalid.binance.com",  # –ù–µ–≤–µ—Ä–Ω—ã–π endpoint –¥–ª—è —Ç–µ—Å—Ç–∞
    "https://api.binance.com",
    ...
]
```

–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:
```
üîÑ Attempt 1: Trying endpoint https://invalid.binance.com
‚ùå API error from https://invalid.binance.com: ...
üîÑ Switched to Binance endpoint: https://api.binance.com
üîÑ Attempt 2: Trying endpoint https://api.binance.com
‚úÖ Successfully fetched 6 prices
```

---

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Frontend

#### –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```
üìä [Chart] –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö...
üìä [Chart] –°–∏–º–≤–æ–ª: BTC ‚Üí BTCUSDT
üìä [Chart] –¢–∞–π–º—Ñ—Ä–µ–π–º: 15m ( 15m )
üîÑ [Chart] Attempt 1: Trying endpoint https://api.binance.com
üìä [Chart] REST –∑–∞–ø—Ä–æ—Å URL: https://api.binance.com/api/v3/klines?symbol=BTCUSDT...
üìä [Chart] –ü–æ–ª—É—á–µ–Ω–æ —Å–≤–µ—á–µ–π: 96
‚úÖ [Chart] Chart rendered
```

#### –¢–µ—Å—Ç —Å –æ—à–∏–±–∫–æ–π
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// –°–∏–º—É–ª—è—Ü–∏—è –æ—à–∏–±–∫–∏ API
window.binanceService.loadHistoricalCandles('INVALID', '1m')
    .catch(err => console.log('Expected error:', err.message));
```

–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- –ü–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É endpoint'–∞–º–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è fallback –æ—à–∏–±–∫–∞: `"Binance API unavailable and no cached data"`
- UI –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

#### Backend –∫—ç—à
```python
# –í Python –∫–æ–Ω—Å–æ–ª–∏
from api.volatility_service import get_from_cache, save_to_cache, PRICE_CACHE

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞
print(PRICE_CACHE)  # –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
```

#### Frontend –∫—ç—à
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
// –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞
console.log(window.binanceService.lastCachedData);
// –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: { labels: [...], prices: [...], firstPrice: ..., lastPrice: ... }
```

---

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Binance WebSocket
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
console.log(window.binanceService.getStatus());
// –û–∂–∏–¥–∞–µ—Ç—Å—è: { websocketConnected: true, currentSymbol: 'BTCUSDT', ... }
```

–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:
```
üîå [BinanceService] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Binance WebSocket...
üîå [BinanceService] URL: wss://stream.binance.com:9443/ws/btcusdt@trade
‚úÖ [BinanceService] WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ!
üîå [BinanceService] –ü–æ–ª—É—á–µ–Ω–∞ —Å–¥–µ–ª–∫–∞: price = 42345.6700 tradeId = 123456789
```

---

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Zeabur

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ tenacity –≤ requirements.txt
grep tenacity requirements.txt
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: tenacity==8.2.3
```

### 2. Push –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
git add .
git commit -m "fix: Binance API 451 error handling with failover and caching"
git push origin main
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Zeabur

–í –ø–∞–Ω–µ–ª–∏ Zeabur –æ—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```bash
# –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:
‚úÖ Started volatility background updates
üì° Available endpoints: 4
üíæ Cached data for BTCUSDT: 6 prices, odds=1.9234
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –±–æ—Ç–∞
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Mini App
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ:
   - ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (–Ω–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ª–æ–∞–¥–µ—Ä)
   - ‚úÖ –¶–µ–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - ‚úÖ –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–æ–Ω–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑–Ω—ã–µ (–Ω–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ)
   - ‚úÖ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫ BTC
3. –¶–µ–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
4. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ endpoint'–∞
```
1. api.binance.com –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 451
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ api1.binance.com
3. –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
4. –í –ª–æ–≥–∞—Ö: "üîÑ Switched to Binance endpoint: ..."
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –í—Å–µ endpoint'—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
```
1. –í—Å–µ 4 endpoint'–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫–∏
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à (–¥–æ 5 –º–∏–Ω—É—Ç)
3. –ï—Å–ª–∏ –∫—ç—à–∞ –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É "Data temporarily unavailable"
4. UI –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: WebSocket —Ä–∞–∑—Ä—ã–≤
```
1. WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
3. –í –ª–æ–≥–∞—Ö: "üîå WebSocket –∑–∞–∫—Ä—ã—Ç, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5—Å..."
4. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

| –°–æ–±—ã—Ç–∏–µ | –õ–æ–≥ | –£—Ä–æ–≤–µ–Ω—å |
|---------|-----|---------|
| –ó–∞–ø—Ä–æ—Å –∫ Binance | `üì° Fetching prices for {symbol}` | INFO |
| –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç | `‚úÖ Received {n} prices` | INFO |
| –û—à–∏–±–∫–∞ 451 | `üö´ Binance blocked request (451)` | ERROR |
| –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ endpoint | `üîÑ Switched to Binance endpoint` | WARNING |
| –ö—ç—à hit | `üíæ Cached data for {symbol}` | DEBUG |
| Fallback | `‚ö†Ô∏è Using fallback data for {symbol}` | WARNING |
| WebSocket –æ—Ç–∫—Ä—ã—Ç | `‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ!` | INFO |
| WebSocket —Ä–∞–∑—Ä—ã–≤ | `üîå WebSocket –∑–∞–∫—Ä—ã—Ç, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ` | WARNING |

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

```python
# –í api/volatility_service.py –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- self._error_counts[symbol]  # –°—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –ø–æ —Å–∏–º–≤–æ–ª–∞–º
- len(PRICE_CACHE)  # –†–∞–∑–º–µ—Ä –∫—ç—à–∞
- CURRENT_ENDPOINT_INDEX  # –¢–µ–∫—É—â–∏–π endpoint
```

---

## ‚ùì Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ì—Ä–∞—Ñ–∏–∫ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω:
   ```bash
   curl -I https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=1m&limit=5
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ volatility_service –∑–∞–ø—É—â–µ–Ω:
   ```bash
   curl http://localhost:8000/api/volatility/status
   ```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

### –ü—Ä–æ–±–ª–µ–º–∞: WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–∏–º–≤–æ–ª –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ: `btcusdt` –Ω–µ `BTCUSDT`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall/network –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ WebSocket –≤—Ä—É—á–Ω—É—é:
   ```bash
   wscat -c wss://stream.binance.com:9443/ws/btcusdt@trade
   ```

---

## üìù –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Backend (`api/volatility_service.py`)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ 451 —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ Failover –º–µ–∂–¥—É 4 –∑–µ—Ä–∫–∞–ª–∞–º–∏ Binance API
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ —Å tenacity (3 –ø–æ–ø—ã—Ç–∫–∏, 2-10—Å –∑–∞–¥–µ—Ä–∂–∫–∞)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (5 –º–∏–Ω—É—Ç TTL)
- ‚úÖ Fallback –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

### Frontend (`frontend/useBinanceWebSocket.js`)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ 451
- ‚úÖ Failover –º–µ–∂–¥—É –∑–µ—Ä–∫–∞–ª–∞–º–∏
- ‚úÖ Timeout 15 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Fallback UI –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### Frontend (`frontend/binanceService.js`)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ 451
- ‚úÖ Failover –º–µ–∂–¥—É 4 –∑–µ—Ä–∫–∞–ª–∞–º–∏
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL
- ‚úÖ Timeout –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `requirements.txt` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω tenacity==8.2.3
- ‚úÖ `.env.example` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ BINANCE_ENDPOINTS, BINANCE_REQUEST_TIMEOUT

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] `pip install -r requirements.txt` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: `uvicorn api.index:app --reload`
- [ ] `/api/volatility/odds/BTCUSDT` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã —ç–º–æ–¥–∑–∏ (üì°‚úÖüîÑüíæ)
- [ ] Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫
- [ ] WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- [ ] –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–æ–Ω–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑–Ω—ã–µ

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –ì—Ä–∞—Ñ–∏–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (< 5 —Å–µ–∫—É–Ω–¥)
- [ ] –¶–µ–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –ù–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –ª–æ–∞–¥–µ—Ä–∞
- [ ] –í –ª–æ–≥–∞—Ö Zeabur –Ω–µ—Ç –æ—à–∏–±–æ–∫ 451

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (—Å–µ—Ä–≤–µ—Ä + –±—Ä–∞—É–∑–µ—Ä)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Binance API:
   ```bash
   curl https://api.binance.com/api/v3/ping
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Zeabur
